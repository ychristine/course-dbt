version: 2

macros:
  - name: select_rank
    description: "Select rank in ordered table"
    docs:
      show: true
    arguments:
      - name: table_name
        type: <string>
        description: "Table to select from"
      - name: column_name
        type: <string>
        description: "Name of column with rank"
      - name: rank
        type: <integer>
        description: "Rank value"

  - name: distinct_sessions_with
    description: "Select unique sessions where column value meets threshold"
    docs:
      show: true
    arguments:
      - name: column_name
        type: <string>
        description: "Column to check"
      - name: threshold
        type: <integer>
        description: "Default 1"

